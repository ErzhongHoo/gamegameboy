<!-- é€šç”¨æ¸¸æˆé¡µé¢æ¨¡æ¿ -->
<!-- ä½¿ç”¨è¯´æ˜ï¼šæ›¿æ¢ä»¥ä¸‹å ä½ç¬¦ -->
<!-- GAME_TITLE - æ¸¸æˆæ ‡é¢˜ -->
<!-- GAME_DESCRIPTION - æ¸¸æˆæè¿° -->
<!-- GAME_CATEGORY - æ¸¸æˆåˆ†ç±» -->
<!-- GAME_IFRAME_URL - æ¸¸æˆiframeé“¾æ¥ -->
<!-- GAME_SCREENSHOT_URL - æ¸¸æˆæˆªå›¾URL -->
<!-- GAME_CONTROLS - æ¸¸æˆæ“ä½œè¯´æ˜ -->
<!-- RELATED_GAMES - ç›¸å…³æ¸¸æˆåˆ—è¡¨ -->

<main>
    <div class="container">
        <div class="game-container">
            <!-- æ¸¸æˆå¤´éƒ¨ä¿¡æ¯ -->
            <div class="game-header">
                <h1 class="game-title">{{GAME_TITLE}}</h1>
                <p class="game-description">{{GAME_DESCRIPTION}}</p>
                <div class="game-meta">
                    <span class="game-category">{{GAME_CATEGORY}}</span>
                    <span>ğŸ® ä¼‘é—²æ¸¸æˆ</span>
                    <span>â­ å…è´¹æ¸¸æˆ</span>
                </div>
            </div>

            <!-- æ¸¸æˆiframeå®¹å™¨ -->
            <div class="game-iframe-container">
                <div class="loading" id="gameLoader">
                    <div class="loading-spinner"></div>
                    <p>æ¸¸æˆåŠ è½½ä¸­...</p>
                </div>
                <iframe
                    class="game-iframe"
                    id="gameFrame"
                    src="{{GAME_IFRAME_URL}}"
                    loading="lazy"
                    onload="hideLoader()"
                    frameborder="0"
                    allowfullscreen>
                </iframe>
            </div>

            <!-- æ¸¸æˆä¿¡æ¯åŒº -->
            <div class="game-info">
                <!-- æ¸¸æˆä»‹ç» -->
                <div class="game-info-section">
                    <h3>ğŸ¯ æ¸¸æˆä»‹ç»</h3>
                    <p>{{GAME_DESCRIPTION}}</p>
                    <div class="mt-1">
                        <strong>åˆ†ç±»ï¼š</strong> {{GAME_CATEGORY}}<br>
                        <strong>ç±»å‹ï¼š</strong> HTML5ä¼‘é—²æ¸¸æˆ<br>
                        <strong>éš¾åº¦ï¼š</strong> ç®€å•æ˜“ä¸Šæ‰‹
                    </div>
                </div>

                <!-- æ“ä½œè¯´æ˜ -->
                <div class="game-info-section">
                    <h3>ğŸ® æ“ä½œè¯´æ˜</h3>
                    <ul class="controls-list">
                        {{GAME_CONTROLS}}
                    </ul>
                    <div class="mt-1">
                        <p><strong>æç¤ºï¼š</strong>æ¸¸æˆæ”¯æŒè§¦æ‘¸å±æ“ä½œï¼Œæ‰‹æœºå¹³æ¿éƒ½èƒ½ç©ï¼</p>
                    </div>
                </div>
            </div>

            <!-- ç¤¾äº¤åˆ†äº« -->
            <div class="social-share">
                <a href="#" class="share-btn share-twitter" id="shareTwitter">
                    ğŸ¦ åˆ†äº«åˆ°Twitter
                </a>
                <a href="#" class="share-btn share-facebook" id="shareFacebook">
                    ğŸ‘ åˆ†äº«åˆ°Facebook
                </a>
                <a href="#" class="share-btn share-reddit" id="shareReddit">
                    ğŸ¤– åˆ†äº«åˆ°Reddit
                </a>
            </div>

            <!-- ç›¸å…³æ¸¸æˆæ¨è -->
            <div class="related-games">
                <h3>ğŸ² ä½ å¯èƒ½å–œæ¬¢çš„æ¸¸æˆ</h3>
                <div class="related-games-grid" id="relatedGames">
                    {{RELATED_GAMES}}
                </div>
            </div>
        </div>
    </div>
</main>

<!-- JavaScript -->
<script src="../assets/js/main.js"></script>
<script>
// æ¸¸æˆé¡µé¢ä¸“ç”¨è„šæœ¬
function hideLoader() {
    const loader = document.getElementById('gameLoader');
    const gameFrame = document.getElementById('gameFrame');

    setTimeout(() => {
        loader.style.display = 'none';
        gameFrame.style.display = 'block';
    }, 500);
}

// ç¤¾äº¤åˆ†äº«åŠŸèƒ½
document.addEventListener('DOMContentLoaded', function() {
    const gameTitle = document.querySelector('.game-title').textContent;
    const gameUrl = window.location.href;
    const gameDescription = document.querySelector('.game-description').textContent;

    // Twitteråˆ†äº«
    document.getElementById('shareTwitter').addEventListener('click', function(e) {
        e.preventDefault();
        const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(gameTitle + ' - ' + gameDescription)}&url=${encodeURIComponent(gameUrl)}`;
        window.open(twitterUrl, '_blank', 'width=550,height=420');
    });

    // Facebookåˆ†äº«
    document.getElementById('shareFacebook').addEventListener('click', function(e) {
        e.preventDefault();
        const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(gameUrl)}`;
        window.open(facebookUrl, '_blank', 'width=580,height=400');
    });

    // Redditåˆ†äº«
    document.getElementById('shareReddit').addEventListener('click', function(e) {
        e.preventDefault();
        const redditUrl = `https://reddit.com/submit?url=${encodeURIComponent(gameUrl)}&title=${encodeURIComponent(gameTitle)}`;
        window.open(redditUrl, '_blank', 'width=600,height=500');
    });
});

// æ¸¸æˆåŠ è½½å¤±è´¥å¤„ç†
document.getElementById('gameFrame').addEventListener('error', function() {
    const loader = document.getElementById('gameLoader');
    loader.innerHTML = '<p>âŒ æ¸¸æˆåŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•</p>';
});
</script>